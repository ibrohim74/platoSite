const clearSlickSlider = () => {
	const $popupSlider = $('.fullwidth .fullwidth__slider')
	if ($popupSlider.hasClass('slick-initialized')) {
		$popupSlider.slick('unslick')
	}
	//$('.fullwidth .fullwidth__slider').unslick()
}

const initSlickSlider = (e) => {
	const index = e.detail ? e.detail : 0
	const $next = $('.fullwidth .fullwidth__control .button-next')
	const $prev = $('.fullwidth .fullwidth__control .button-prev')
	console.log(e.detail)
	$('.fullwidth .fullwidth__slider').slick({
		slidesToShow: 1,
		initialSlide: index,
		slidesToScroll: 1,
		nextArrow: $next,
		prevArrow: $prev,
	})
}

const initShowcasesItemSlider = () => {
	const $sliders = $('.showcasesItem__slider')

	$.each($sliders, (index, value) => {
		const $container = $(value)
		const $slider = $container.find('.showcasesItem__slider__main')
		const $next = $container.find('.button-next')
		const $prev = $container.find('.button-prev')

		$slider.slick({
			slidesToShow: 1,
			slidesToScroll: 1,
			nextArrow: $next,
			prevArrow: $prev,
			dots: false,
			infinite: true,
			variableWidth: true,
		})
	})
}

const initReviewsSlider = () => {
	const $next = $('.reviews__slider__control .button-next')
	const $prev = $('.reviews__slider__control .button-prev')
	$('.reviews__slider').slick({
		slidesToShow: 1,
		slidesToScroll: 1,
		nextArrow: $next,
		prevArrow: $prev,
		dots: false,
		infinite: true,
	})
}

const parallaxScroll = () => {
	const scrolled = $(window).scrollTop()
	$('#parallax-bg-1').css('top', 0 - scrolled * 0.25 + 'px')
	$('#parallax-bg-2').css('top', 0 - scrolled * 0.4 + 'px')
	$('#parallax-bg-3').css('top', 0 - scrolled * 0.75 + 'px')
}

const playVideo = () => {
	$('*[data-template-content=".video"]').on('click', function () {
		setTimeout(function () {
			if ($('#fullwidth-popup #fullwidth-video video').length != 0) {
				$('#fullwidth-popup #fullwidth-video video').get(0).play()
			}
		}, 200)
	})

	$('.wrapper').on('click', '#fullwidth-popup .button-close', function () {
		if ($(this).closest('#fullwidth-popup').find('video').length != 0) {
			$(this).closest('#fullwidth-popup').find('video').get(0).pause()
		}

		if ($(this).closest('#fullwidth-popup').find('iframe').length != 0) {
			var vimeoWrap = $(this).closest('#fullwidth-popup').find('.video')
			setTimeout(function () {
				vimeoWrap.html(vimeoWrap.html())
			}, 1000)
		}
	})
}

// const sendEmail = () => {
// 	$('.sendform-js').on('submit', function () {
// 		var siteUrl = document.location.origin
// 		var f = $(this)
// 		var name = $(this).find('input[name="name"]').val()
// 		var telephon = $(this).find('input[name="telephon"]').val()
// 		var message = $(this).find('textarea[name="message"]').val()
// console.log(name)
// console.log(telephon)
// console.log(message)
// 		var form = 'biz bilan bolaning'
// 		if (f.find('input[name="name"]').length == 0) {
// 			form = 'Footer Form'
// 		}
//
// 		$.ajax({
// 			url: siteUrl + '/mail.php',
// 			method: 'POST',
// 			data: {
// 				name: name,
// 				telephon: telephon,
// 				message: message,
// 				form: form,
// 			},
// 			success: function (result) {
// 				f.find('.form-mess').addClass('active')
// 			},
// 		})
// 		return false
// 	})
// }

const init = () => {
	initShowcasesItemSlider()
	initReviewsSlider()
	playVideo()
	sendEmail()
	document.addEventListener('insertFullwidth', initSlickSlider)
	document.addEventListener('clearFullwidth', clearSlickSlider)
	// $(window).scroll((e) =>{
	// 	parallaxScroll();
	//  });
}
jQuery(document).ready(init)
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGNsZWFyU2xpY2tTbGlkZXIgPSAoKSA9PiB7XG5cdGNvbnN0ICRwb3B1cFNsaWRlciA9ICQoJy5mdWxsd2lkdGggLmZ1bGx3aWR0aF9fc2xpZGVyJylcblx0aWYgKCRwb3B1cFNsaWRlci5oYXNDbGFzcygnc2xpY2staW5pdGlhbGl6ZWQnKSkge1xuXHRcdCRwb3B1cFNsaWRlci5zbGljaygndW5zbGljaycpXG5cdH1cblx0Ly8kKCcuZnVsbHdpZHRoIC5mdWxsd2lkdGhfX3NsaWRlcicpLnVuc2xpY2soKVxufVxuXG5jb25zdCBpbml0U2xpY2tTbGlkZXIgPSAoZSkgPT4ge1xuXHRjb25zdCBpbmRleCA9IGUuZGV0YWlsID8gZS5kZXRhaWwgOiAwXG5cdGNvbnN0ICRuZXh0ID0gJCgnLmZ1bGx3aWR0aCAuZnVsbHdpZHRoX19jb250cm9sIC5idXR0b24tbmV4dCcpXG5cdGNvbnN0ICRwcmV2ID0gJCgnLmZ1bGx3aWR0aCAuZnVsbHdpZHRoX19jb250cm9sIC5idXR0b24tcHJldicpXG5cdGNvbnNvbGUubG9nKGUuZGV0YWlsKVxuXHQkKCcuZnVsbHdpZHRoIC5mdWxsd2lkdGhfX3NsaWRlcicpLnNsaWNrKHtcblx0XHRzbGlkZXNUb1Nob3c6IDEsXG5cdFx0aW5pdGlhbFNsaWRlOiBpbmRleCxcblx0XHRzbGlkZXNUb1Njcm9sbDogMSxcblx0XHRuZXh0QXJyb3c6ICRuZXh0LFxuXHRcdHByZXZBcnJvdzogJHByZXYsXG5cdH0pXG59XG5cbmNvbnN0IGluaXRTaG93Y2FzZXNJdGVtU2xpZGVyID0gKCkgPT4ge1xuXHRjb25zdCAkc2xpZGVycyA9ICQoJy5zaG93Y2FzZXNJdGVtX19zbGlkZXInKVxuXG5cdCQuZWFjaCgkc2xpZGVycywgKGluZGV4LCB2YWx1ZSkgPT4ge1xuXHRcdGNvbnN0ICRjb250YWluZXIgPSAkKHZhbHVlKVxuXHRcdGNvbnN0ICRzbGlkZXIgPSAkY29udGFpbmVyLmZpbmQoJy5zaG93Y2FzZXNJdGVtX19zbGlkZXJfX21haW4nKVxuXHRcdGNvbnN0ICRuZXh0ID0gJGNvbnRhaW5lci5maW5kKCcuYnV0dG9uLW5leHQnKVxuXHRcdGNvbnN0ICRwcmV2ID0gJGNvbnRhaW5lci5maW5kKCcuYnV0dG9uLXByZXYnKVxuXG5cdFx0JHNsaWRlci5zbGljayh7XG5cdFx0XHRzbGlkZXNUb1Nob3c6IDEsXG5cdFx0XHRzbGlkZXNUb1Njcm9sbDogMSxcblx0XHRcdG5leHRBcnJvdzogJG5leHQsXG5cdFx0XHRwcmV2QXJyb3c6ICRwcmV2LFxuXHRcdFx0ZG90czogZmFsc2UsXG5cdFx0XHRpbmZpbml0ZTogdHJ1ZSxcblx0XHRcdHZhcmlhYmxlV2lkdGg6IHRydWUsXG5cdFx0fSlcblx0fSlcbn1cblxuY29uc3QgaW5pdFJldmlld3NTbGlkZXIgPSAoKSA9PiB7XG5cdGNvbnN0ICRuZXh0ID0gJCgnLnJldmlld3NfX3NsaWRlcl9fY29udHJvbCAuYnV0dG9uLW5leHQnKVxuXHRjb25zdCAkcHJldiA9ICQoJy5yZXZpZXdzX19zbGlkZXJfX2NvbnRyb2wgLmJ1dHRvbi1wcmV2Jylcblx0JCgnLnJldmlld3NfX3NsaWRlcicpLnNsaWNrKHtcblx0XHRzbGlkZXNUb1Nob3c6IDEsXG5cdFx0c2xpZGVzVG9TY3JvbGw6IDEsXG5cdFx0bmV4dEFycm93OiAkbmV4dCxcblx0XHRwcmV2QXJyb3c6ICRwcmV2LFxuXHRcdGRvdHM6IGZhbHNlLFxuXHRcdGluZmluaXRlOiB0cnVlLFxuXHR9KVxufVxuXG5jb25zdCBwYXJhbGxheFNjcm9sbCA9ICgpID0+IHtcblx0Y29uc3Qgc2Nyb2xsZWQgPSAkKHdpbmRvdykuc2Nyb2xsVG9wKClcblx0JCgnI3BhcmFsbGF4LWJnLTEnKS5jc3MoJ3RvcCcsIDAgLSBzY3JvbGxlZCAqIDAuMjUgKyAncHgnKVxuXHQkKCcjcGFyYWxsYXgtYmctMicpLmNzcygndG9wJywgMCAtIHNjcm9sbGVkICogMC40ICsgJ3B4Jylcblx0JCgnI3BhcmFsbGF4LWJnLTMnKS5jc3MoJ3RvcCcsIDAgLSBzY3JvbGxlZCAqIDAuNzUgKyAncHgnKVxufVxuXG5jb25zdCBwbGF5VmlkZW8gPSAoKSA9PiB7XG5cdCQoJypbZGF0YS10ZW1wbGF0ZS1jb250ZW50PVwiLnZpZGVvXCJdJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuXHRcdHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHRcdFx0aWYgKCQoJyNmdWxsd2lkdGgtcG9wdXAgI2Z1bGx3aWR0aC12aWRlbyB2aWRlbycpLmxlbmd0aCAhPSAwKSB7XG5cdFx0XHRcdCQoJyNmdWxsd2lkdGgtcG9wdXAgI2Z1bGx3aWR0aC12aWRlbyB2aWRlbycpLmdldCgwKS5wbGF5KClcblx0XHRcdH1cblx0XHR9LCAyMDApXG5cdH0pXG5cblx0JCgnLndyYXBwZXInKS5vbignY2xpY2snLCAnI2Z1bGx3aWR0aC1wb3B1cCAuYnV0dG9uLWNsb3NlJywgZnVuY3Rpb24gKCkge1xuXHRcdGlmICgkKHRoaXMpLmNsb3Nlc3QoJyNmdWxsd2lkdGgtcG9wdXAnKS5maW5kKCd2aWRlbycpLmxlbmd0aCAhPSAwKSB7XG5cdFx0XHQkKHRoaXMpLmNsb3Nlc3QoJyNmdWxsd2lkdGgtcG9wdXAnKS5maW5kKCd2aWRlbycpLmdldCgwKS5wYXVzZSgpXG5cdFx0fVxuXG5cdFx0aWYgKCQodGhpcykuY2xvc2VzdCgnI2Z1bGx3aWR0aC1wb3B1cCcpLmZpbmQoJ2lmcmFtZScpLmxlbmd0aCAhPSAwKSB7XG5cdFx0XHR2YXIgdmltZW9XcmFwID0gJCh0aGlzKS5jbG9zZXN0KCcjZnVsbHdpZHRoLXBvcHVwJykuZmluZCgnLnZpZGVvJylcblx0XHRcdHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHRcdFx0XHR2aW1lb1dyYXAuaHRtbCh2aW1lb1dyYXAuaHRtbCgpKVxuXHRcdFx0fSwgMTAwMClcblx0XHR9XG5cdH0pXG59XG5cbmNvbnN0IHNlbmRFbWFpbCA9ICgpID0+IHtcblx0JCgnLnNlbmRmb3JtLWpzJykub24oJ3N1Ym1pdCcsIGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgc2l0ZVVybCA9IGRvY3VtZW50LmxvY2F0aW9uLm9yaWdpblxuXHRcdHZhciBmID0gJCh0aGlzKVxuXHRcdHZhciBuYW1lID0gJCh0aGlzKS5maW5kKCdpbnB1dFtuYW1lPVwibmFtZVwiXScpLnZhbCgpXG5cdFx0dmFyIGVtYWlsID0gJCh0aGlzKS5maW5kKCdpbnB1dFt0eXBlPVwiZW1haWxcIl0nKS52YWwoKVxuXHRcdHZhciBtZXNzYWdlID0gJCh0aGlzKS5maW5kKCd0ZXh0YXJlYVtuYW1lPVwibWVzc2FnZVwiXScpLnZhbCgpXG5cblx0XHR2YXIgZm9ybSA9ICdHZXQgSW4gVG91Y2ggRm9ybSdcblx0XHRpZiAoZi5maW5kKCdpbnB1dFtuYW1lPVwibmFtZVwiXScpLmxlbmd0aCA9PSAwKSB7XG5cdFx0XHRmb3JtID0gJ0Zvb3RlciBGb3JtJ1xuXHRcdH1cblxuXHRcdCQuYWpheCh7XG5cdFx0XHR1cmw6IHNpdGVVcmwgKyAnL21haWwucGhwJyxcblx0XHRcdG1ldGhvZDogJ1BPU1QnLFxuXHRcdFx0ZGF0YToge1xuXHRcdFx0XHRuYW1lOiBuYW1lLFxuXHRcdFx0XHRlbWFpbDogZW1haWwsXG5cdFx0XHRcdG1lc3NhZ2U6IG1lc3NhZ2UsXG5cdFx0XHRcdGZvcm06IGZvcm0sXG5cdFx0XHR9LFxuXHRcdFx0c3VjY2VzczogZnVuY3Rpb24gKHJlc3VsdCkge1xuXHRcdFx0XHRmLmZpbmQoJy5mb3JtLW1lc3MnKS5hZGRDbGFzcygnYWN0aXZlJylcblx0XHRcdH0sXG5cdFx0fSlcblx0XHRyZXR1cm4gZmFsc2Vcblx0fSlcbn1cblxuY29uc3QgaW5pdCA9ICgpID0+IHtcblx0aW5pdFNob3djYXNlc0l0ZW1TbGlkZXIoKVxuXHRpbml0UmV2aWV3c1NsaWRlcigpXG5cdHBsYXlWaWRlbygpXG5cdHNlbmRFbWFpbCgpXG5cdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2luc2VydEZ1bGx3aWR0aCcsIGluaXRTbGlja1NsaWRlcilcblx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xlYXJGdWxsd2lkdGgnLCBjbGVhclNsaWNrU2xpZGVyKVxuXHQvLyAkKHdpbmRvdykuc2Nyb2xsKChlKSA9Pntcblx0Ly8gXHRwYXJhbGxheFNjcm9sbCgpO1xuXHQvLyAgfSk7XG59XG5qUXVlcnkoZG9jdW1lbnQpLnJlYWR5KGluaXQpXG4iXX0=
